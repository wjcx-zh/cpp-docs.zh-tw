---
title: "å­—ä¸²å’Œå­—å…ƒå¸¸å€¼ (C++) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "language-reference"
f1_keywords: 
  - "R"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "é€¸å‡ºåºåˆ—"
  - "L å¸¸æ•¸"
  - "å¸¸å€¼å­—ä¸²"
  - "å¸¸å€¼å­—ä¸², C++"
  - "Null å­—ä¸²"
  - "Null å­—ä¸², ä»¥ null çµå°¾çš„å­—ä¸²"
  - "NULL, å­—å…ƒå¸¸æ•¸"
  - "å­—ä¸²å¸¸å€¼"
  - "å­—ä¸²å¸¸å€¼, èªæ³•"
  - "å­—ä¸² [C++], å­—ä¸²å¸¸å€¼"
  - "å¯¬å­—å…ƒ, å­—ä¸²"
ms.assetid: 61de8f6f-2714-4e7b-86b6-a3f885d3b9df
caps.latest.revision: 36
caps.handback.revision: 34
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# å­—ä¸²å’Œå­—å…ƒå¸¸å€¼ (C++)
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

C\+\+ æ”¯æ´å„ç¨®å­—ä¸²å’Œå­—å…ƒé¡å‹ï¼Œä¸¦æä¾›æ–¹æ³•ä¾†è¡¨ç¤ºæ‰€æœ‰é€™äº›é¡å‹çš„å¸¸å€¼ã€‚ åœ¨åŸå§‹ç¨‹å¼ç¢¼ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å­—å…ƒé›†è¡¨ç¤ºå­—å…ƒå’Œå­—ä¸²å¸¸å€¼çš„å…§å®¹ã€‚ é€šç”¨å­—å…ƒåç¨±å’Œé€¸å‡ºå­—å…ƒå…è¨±æ‚¨åªä½¿ç”¨åŸºæœ¬ä¾†æºå­—å…ƒé›†è¡¨ç¤ºä»»ä½•å­—ä¸²ã€‚ åŸå§‹å­—ä¸²å¸¸å€¼å¯è®“æ‚¨é¿å…ä½¿ç”¨é€¸å‡ºå­—å…ƒï¼Œè€Œä¸”å¯ç”¨ä¾†è¡¨ç¤ºæ‰€æœ‰é¡å‹çš„å­—ä¸²å¸¸å€¼ã€‚ æ‚¨ä¹Ÿå¯ä»¥å»ºç«‹ std::string å¸¸å€¼ï¼Œä¸å¿…åŸ·è¡Œé¡å¤–çš„å»ºæ§‹æˆ–è½‰æ›æ­¥é©Ÿã€‚  
  
```cpp  
#include <string> using namespace std::string_literals; // enables s-suffix for std::string literals int main() { // Character literals auto c0 =   'A'; // char auto c1 = u8'A'; // char auto c2 =  L'A'; // wchar_t auto c3 =  u'A'; // char16_t auto c4 =  U'A'; // char32_t // String literals auto s0 =   "hello"; // const char* auto s1 = u8"hello"; // const char*, encoded as UTF-8 auto s2 =  L"hello"; // const wchar_t* auto s3 =  u"hello"; // const char16_t*, encoded as UTF-16 auto s4 =  U"hello"; // const char32_t*, encoded as UTF-32 // Raw string literals containing unescaped \ and " auto R0 =   R"("Hello \ world")"; // const char* auto R1Â = u8R"("Hello \ world")"; // const char*, encoded as UTF-8 auto R2 =  LR"("Hello \ world")"; // const wchar_t* auto R3 =  uR"("Hello \ world")"; // const char16_t*, encoded as UTF-16 auto R4 =  UR"("Hello \ world")"; // const char32_t*, encoded as UTF-32 // Combining string literals with standard s-suffix auto S0 =   "hello"s; // std::string auto S1 = u8"hello"s; // std::string auto S2 =  L"hello"s; // std::wstring auto S3 =  u"hello"s; // std::u16string auto S4 =  U"hello"s; // std::u32string // Combining raw string literals with standard s-suffix auto S5 =   R"("Hello \ world")"s; // std::string from a raw const char* auto S6 = u8R"("Hello \ world")"s; // std::string from a raw const char*, encoded as UTF-8 auto S7 =  LR"("Hello \ world")"s; // std::wstring from a raw const wchar_t* auto S8 =  uR"("Hello \ world")"s; // std::u16string from a raw const char16_t*, encoded as UTF-16 auto S9 =  UR"("Hello \ world")"s; // std::u32string from a raw const char32_t*, encoded as UTF-32 }  
```  
  
 å­—ä¸²å¸¸å€¼å¯ä»¥æ²’æœ‰å‰ç½®è©ï¼Œæˆ–è€…ä»¥ `u8`ã€`L`ã€`u` å’Œ `U` å‰ç½®è©åˆ†åˆ¥è¡¨ç¤ºåŠå½¢å­—å…ƒ \(å–®ä¸€ä½å…ƒçµ„æˆ–å¤šä½å…ƒçµ„\)ã€UTF\-8ã€å…¨å½¢å­—å…ƒ \(UCS\-2 æˆ– UTF\-16\)ã€UTF\-16 å’Œ UTF\-32 ç·¨ç¢¼ã€‚ åŸå§‹å­—ä¸²å¸¸å€¼å¯ä»¥æœ‰ `R`ã€`u8R`ã€`LR`ã€`uR` å’Œ `UR` å‰ç½®è©ï¼Œç›¸ç•¶æ–¼é€™äº›ç·¨ç¢¼æ–¹å¼çš„åŸå§‹ç‰ˆæœ¬ã€‚  è‹¥è¦å»ºç«‹æš«å­˜æˆ–éœæ…‹çš„ std::string å€¼ï¼Œå­—ä¸²å¸¸å€¼æˆ–åŸå§‹å­—ä¸²å¸¸å€¼å¯ä»¥æ­é…ä½¿ç”¨ `s` å¾Œç½®è©ã€‚ å¦‚éœ€è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–±ä¸‹ç¯€çš„ï¼œå­—ä¸²å¸¸å€¼ï¼ã€‚ å¦‚éœ€åŸºæœ¬åŸå§‹ç¨‹å¼ç¢¼å­—å…ƒé›†ã€é€šç”¨å­—å…ƒåç¨±ï¼Œä»¥åŠä½¿ç”¨åŸå§‹ç¨‹å¼ç¢¼æ“´å……å­—ç¢¼é å­—å…ƒçš„è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [å­—å…ƒé›†](../cpp/character-sets2.md)ã€‚  
  
## å­—å…ƒå¸¸å€¼  
 *ã€Œå­—å…ƒå¸¸å€¼ã€*\(character literal\) æ˜¯ç”±å¸¸æ•¸å­—å…ƒæ‰€çµ„æˆã€‚ å…¶è¡¨ç¤ºæ–¹å¼æ˜¯ä»¥å–®å¼•è™Ÿæ‹¬ä½å­—å…ƒã€‚ å­—å…ƒå¸¸å€¼æœ‰å››ç¨®é¡å‹ï¼š  
  
-   `char` é¡å‹çš„åŠå½¢å­—å…ƒå¸¸å€¼ï¼Œä¾‹å¦‚ `'a'`  
  
-   `wchar_t` é¡å‹çš„å…¨å½¢å­—å…ƒå¸¸å€¼ï¼Œä¾‹å¦‚ `L'a'`  
  
-   `char16_t` é¡å‹çš„å…¨å½¢å­—å…ƒå¸¸å€¼ï¼Œä¾‹å¦‚ `u'a'`  
  
-   `char32_t` é¡å‹çš„å…¨å½¢å­—å…ƒå¸¸å€¼ï¼Œä¾‹å¦‚ `U'a'`  
  
 ç”¨æ–¼å­—å…ƒå¸¸å€¼çš„å­—å…ƒå¯ä»¥æ˜¯ä»»ä½•å­—å…ƒï¼Œä½†ä¿ç•™å­—å…ƒåæ–œç·š \('\\'\)ã€å–®å¼•è™Ÿ \('\) æˆ–æ–°è¡Œå­—å…ƒé™¤å¤–ã€‚ ä½¿ç”¨é€¸å‡ºåºåˆ—å¯æŒ‡å®šä¿ç•™å­—å…ƒã€‚ åªè¦é¡å‹å¤§åˆ°è¶³ä»¥å®¹ç´å­—å…ƒï¼Œå°±å¯ä»¥ä½¿ç”¨é€šç”¨å­—å…ƒåç¨±æŒ‡å®šå­—å…ƒã€‚  
  
###  <a name="bkmk_Escape"></a> é€¸å‡ºåºåˆ—  
 é€¸å‡ºåºåˆ—æœ‰ä¸‰ç¨®ï¼šç°¡å–®çš„ã€å…«é€²ä½å’Œåå…­é€²ä½ã€‚ é€¸å‡ºåºåˆ—å¯ä»¥æ˜¯ä¸‹åˆ—ä»»ä½•ä¸€é …ï¼š  
  
|å€¼|é€¸å‡ºåºåˆ—|å€¼|é€¸å‡ºåºåˆ—|  
|-------|----------|-------|----------|  
|æ–°è¡Œå­—å…ƒ|\\n|åæ–œç·š|\\\\|  
|æ°´å¹³å®šä½å­—å…ƒ|\\t|å•è™Ÿ|? æˆ– \\?|  
|å‚ç›´å®šä½å­—å…ƒ|\\v|å–®å¼•è™Ÿ|\\'|  
|é€€æ ¼éµ|\\b|é›™å¼•è™Ÿ|\\"|  
|æ­¸ä½å­—å…ƒ|\\r|null å­—å…ƒ|\\0|  
|æ›é å­—å…ƒ|\\f|å…«é€²ä½|\\ooo|  
|è­¦ç¤º \(éˆ´è²\)|\\a|åå…­é€²ä½|\\xhhh|  
  
 ä¸‹åˆ—ç¨‹å¼ç¢¼é¡¯ç¤ºä¸€äº›ä½¿ç”¨åŠå½¢å­—ä¸²å¸¸å€¼çš„é€¸å‡ºå­—å…ƒç¯„ä¾‹ã€‚ ç›¸åŒçš„èªæ³•é©ç”¨æ–¼å…¶ä»–å­—ä¸²å¸¸å€¼é¡å‹ã€‚  
  
```cpp  
#include <iostream> using namespace std; int main() { char newline = '\n'; char tab = '\t'; char backspace = '\b'; char backslash = '\\'; char nullChar = '\0'; cout << "Newline character: " << newline << "ending" << endl; // Newline character: //  ending cout << "Tab character: " << tab << "ending" << endl; // Tab character : ending cout << "Backspace character: " << backspace << "ending" << endl; // Backspace character : ending cout << "Backslash character: " << backslash << "ending" << endl; // Backslash character : \ending cout << "Null character: " << nullChar << "ending" << endl; //Null character:  ending }  
```  
  
 **Microsoft ç‰¹å®šçš„**  
  
 è‹¥è¦å¾ç„¡å‰ç½®è©çš„å­—å…ƒå¸¸å€¼å»ºç«‹å€¼ï¼Œç·¨è­¯å™¨æœƒå°‡å–®å¼•è™Ÿé–“çš„å­—å…ƒæˆ–å­—å…ƒé †åºè½‰æ›æˆ 32 ä½å…ƒæ•´æ•¸å…§çš„ 8 ä½å…ƒå€¼ã€‚ å¸¸å€¼ä¸­çš„å¤šå€‹å­—å…ƒï¼Œæœƒè¦–éœ€è¦å¾é«˜åºä½åˆ°ä½åºä½å¡«å…¥å°æ‡‰çš„ä½å…ƒçµ„ã€‚ è‹¥è¦å»ºç«‹ `char` å€¼ï¼Œç·¨è­¯å™¨æœƒæ¡ç”¨ä½åºä½ä½å…ƒçµ„ã€‚ è‹¥è¦å»ºç«‹ `wchar_t` æˆ–  `char16_t` å€¼ï¼Œç·¨è­¯å™¨æœƒæ¡ç”¨ä½åºä½å­—çµ„ã€‚ å¦‚æœä»»ä½•ä½å…ƒè¨­å®šé«˜å‡ºæŒ‡å®šçš„ä½å…ƒçµ„æˆ–å­—çµ„ï¼Œç·¨è­¯å™¨æœƒè­¦å‘Šçµæœé­æˆªæ–·ã€‚  
  
```cpp  
char c0    = 'abcd';    // C4305, C4309, truncates to 'd' wchar_t w0 = 'abcd';    // C4305, C4309, truncates to '\x6364'  
```  
  
 å…«é€²ä½é€¸å‡ºåºåˆ—æ˜¯åæ–œç·šï¼Œå¾Œé¢æ¥è‘—æœ€å¤š 3 å€‹å…«é€²ä½æ•¸å­—çš„åºåˆ—ã€‚ å¯èƒ½åŒ…å«è¶…éä¸‰ä½æ•¸çš„å…«é€²ä½é€¸å‡ºåºåˆ—ï¼Œå…¶è¡Œç‚ºæœƒè¢«è¦–ç‚º 3 ä½æ•¸å…«é€²ä½åºåˆ—ï¼Œå¾Œé¢è·Ÿè‘—çš„æ•¸å­—è¦–ç‚ºå­—å…ƒï¼Œå…¶çµæœæœƒä»¤äººå¤§å‡ºæ„å¤–ã€‚ ä¾‹å¦‚ï¼š  
  
```cpp  
char c1 = '\100';   // '@' char c2 = '\1000';  // C4305, C4309, truncates to '0'   
```  
  
 å¯èƒ½åŒ…å«éå…«é€²ä½å­—å…ƒçš„é€¸å‡ºåºåˆ—ï¼Œä¸€ç›´åˆ°æœ€å¾Œä¸€å€‹å…«é€²ä½çš„å­—å…ƒéƒ½æœƒè©•ä¼°ç‚ºå…«é€²ä½åºåˆ—ï¼Œå¾Œé¢å‰‡è¦–ç‚ºå…¶é¤˜å­—å…ƒã€‚ ä¾‹å¦‚ï¼š  
  
```cpp  
char c3 = '\009';   // '9' char c4 = '\089';   // C4305, C4309, truncates to '9' char c5 = '\qrs';   // C4129, C4305, C4309, truncates to 's'  
```  
  
 åå…­é€²ä½é€¸å‡ºåºåˆ—æ˜¯åæ–œç·šï¼Œå¾Œé¢æ¥è‘—å­—å…ƒ `x`ï¼Œå¾Œé¢æ¥è‘—åå…­é€²ä½æ•¸å­—åºåˆ—ã€‚ ä¸åŒ…å«åå…­ä½å…ƒæ•¸å­—çš„é€¸å‡ºåºåˆ—æœƒé€ æˆç·¨è­¯å™¨éŒ¯èª¤ C2153ï¼šã€Œåå…­é€²ä½å¸¸å€¼è‡³å°‘å¿…é ˆæœ‰ä¸€å€‹åå…­é€²ä½æ•¸å­—ã€ã€‚ ç³»çµ±æœƒå¿½ç•¥å‰ç½®é›¶ã€‚ å¯èƒ½æœ‰åå…­é€²ä½å’Œéåå…­é€²ä½å­—å…ƒçš„é€¸å‡ºåºåˆ—ï¼Œä¸€ç›´åˆ°æœ€å¾Œä¸€å€‹åå…­é€²ä½çš„å­—å…ƒéƒ½æœƒè©•ä¼°ç‚ºåå…­é€²ä½é€¸å‡ºåºåˆ—ï¼Œå¾Œé¢å‰‡è¦–ç‚ºéåå…­é€²ä½å­—å…ƒã€‚   åœ¨æ²’æœ‰å‰ç½®è©æˆ– u8 å‰ç½®è©çš„åŠå½¢å­—å…ƒå¸¸å€¼ä¸­ï¼Œæœ€é«˜çš„åå…­é€²ä½å€¼æ˜¯ 0xFFã€‚ åœ¨ L å‰ç½®è©æˆ– u å‰ç½®è©çš„å…¨å½¢å­—å…ƒå¸¸å€¼ä¸­ï¼Œæœ€é«˜çš„åå…­é€²ä½å€¼æ˜¯ 0xFFFFã€‚ åœ¨ U å‰ç½®è©çš„å…¨å½¢å­—å…ƒå¸¸å€¼ä¸­ï¼Œæœ€é«˜çš„åå…­é€²ä½å€¼æ˜¯ 0xFFFFFFFFã€‚  
  
```cpp  
char c6 = '\x0050'; // 'P' char c7 = '\x0pqr'; // C4305, C4309, truncates to 'r'  
```  
  
 å¦‚æœå…¨å½¢å­—å…ƒå¸¸å€¼å‰é¢åŠ ä¸ŠåŒ…å«å¤šå€‹å­—å…ƒçš„ `L`ï¼Œæœƒå¾ç¬¬ä¸€å€‹å­—å…ƒæ‹¿æ‰æ­¤å€¼ã€‚ å¿½ç•¥å¾ŒçºŒçš„å­—å…ƒï¼Œèˆ‡å°ç­‰ç„¡å‰ç½®è©çš„åŠå½¢å­—å…ƒå¸¸å€¼è¡Œç‚ºä¸åŒã€‚  
  
```cpp  
wchar_t w1 = L'\100';   // L'@' wchar_t w2 = L'\1000';  // C4066 L'@', 0 ignored wchar_t w3 = L'\009';   // C4066 L'\0', 9 ignored wchar_t w4 = L'\089';   // C4066 L'\0', 89 ignored wchar_t w5 = L'\qrs';   // C4129, C4066 L'q' escape, rs ignored wchar_t w6 = L'\x0050'; // L'P' wchar_t w7 = L'\x0pqr'; // C4066 L'\0', pqr ignored  
```  
  
 **END Microsoft ç‰¹å®šçš„**  
  
 ç•¶æ”¾ç½®åœ¨ä¸€è¡Œçš„çµå°¾æ™‚ï¼Œåæ–œç·šå­—å…ƒ \(\\\) å°±æ˜¯è¡Œæ¥çºŒå­—å…ƒã€‚ å¦‚æœæ‚¨æƒ³è¦è®“åæ–œç·šå­—å…ƒé¡¯ç¤ºç‚ºå­—å…ƒå¸¸å€¼ï¼Œæ‚¨å¿…é ˆè¼¸å…¥é€£çºŒçš„å…©å€‹åæ–œç·š \(`\\`\)ã€‚ å¦‚éœ€è¡Œæ¥çºŒå­—å…ƒçš„è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [è½‰è­¯éšæ®µ](../preprocessor/phases-of-translation.md)ã€‚  
  
###  <a name="bkmk_UCN"></a> é€šç”¨å­—å…ƒåç¨±  
 åœ¨å­—å…ƒå¸¸å€¼å’ŒåŸç”Ÿ \(éåŸå§‹\) çš„å­—ä¸²å¸¸å€¼ä¸­ï¼Œä»»ä½•å­—å…ƒéƒ½å¯èƒ½ä½¿ç”¨é€šç”¨å­—å…ƒåç¨±è¡¨ç¤ºã€‚  é€šç”¨å­—å…ƒåç¨±çš„æ ¼å¼ç‚ºå‰ç½®è© \\U åŠ ä¸Šå…«ä½æ•¸çš„ Unicode å­—ç¢¼æŒ‡æ¨™ï¼Œæˆ–æ˜¯å‰ç½®è© \\u åŠ ä¸Šå››ä½æ•¸çš„ Unicode å­—ç¢¼æŒ‡æ¨™ã€‚ æ‰€æœ‰çš„å…«ä½æ•¸æˆ–å››ä½æ•¸ï¼Œéƒ½ä¸€å®šè¦å‡ºç¾æ‰æ˜¯æ ¼å¼æ­£ç¢ºçš„é€šç”¨å­—å…ƒåç¨±ã€‚  
  
```cpp  
char u1 = 'A';          // 'A' char u2 = '\101';       // octal, 'A' char u3 = '\x41';       // hexadecimal, 'A' char u4 = '\u0041';     // \u UCN 'A' char u5 = '\U00000041'; // \U UCN 'A'  
```  
  
 **Surrogate å­—çµ„**  
  
 é€šç”¨å­—å…ƒåç¨±ç„¡æ³•ç·¨ç¢¼åœ¨ surrogate å­—ç¢¼æŒ‡æ¨™ç¯„åœ D800\-DFFF å…§çš„å€¼ã€‚ è‡³æ–¼ Unicode surrogate å­—çµ„ï¼Œè«‹ä½¿ç”¨ `\UNNNNNNNN` æŒ‡å®šé€šç”¨å­—å…ƒåç¨±ï¼Œé€™è£¡çš„ NNNNNNNN ç‚ºå­—å…ƒçš„å…«ä½æ•¸å­—ç¢¼æŒ‡æ¨™ã€‚ å¦‚æœ‰éœ€è¦ï¼Œç·¨è­¯å™¨æœƒç”¢ç”Ÿ surrogate å­—çµ„ã€‚  
  
 éå»åœ¨ C\+\+03 ä¸­ï¼Œèªè¨€åªå…è¨±ç”±å…¶é€šç”¨å­—å…ƒåç¨±æ‰€ä»£è¡¨çš„å­—å…ƒå­é›†ï¼Œä»¥åŠæœªå¯¦éš›ä»£è¡¨ä»»ä½•æœ‰æ•ˆ Unicode å­—å…ƒçš„ä¸€äº›é€šç”¨å­—å…ƒåç¨±ã€‚ é€™å·²åœ¨ C\+\+11 æ¨™æº–ä¸­ä¿®æ­£ã€‚ åœ¨ C\+\+11 ä¸­ï¼Œå­—å…ƒå’Œå­—ä¸²å¸¸å€¼åŠè­˜åˆ¥é …å¯ä»¥ä½¿ç”¨é€šç”¨å­—å…ƒåç¨±ã€‚  å¦‚éœ€é€šç”¨å­—å…ƒåç¨±çš„è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [å­—å…ƒé›†](../cpp/character-sets2.md)ã€‚ å¦‚éœ€ Unicode çš„è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [Unicode](http://msdn.microsoft.com/library/dd374081\(v=vs.85\).aspx)ã€‚ å¦‚éœ€ Surrogate å­—çµ„çš„è©³ç´°è³‡è¨Šï¼Œè«‹åƒé–± [Surrogate å­—çµ„å’Œè£œå……å­—å…ƒ](http://msdn.microsoft.com/library/dd374069\(v=vs.85\).aspx)ã€‚  
  
## å­—ä¸²å¸¸å€¼  
 å­—ä¸²å¸¸å€¼ä»£è¡¨æ§‹æˆ null çµæŸå­—ä¸²çš„ä¸€é€£ä¸²å­—å…ƒã€‚ é€™äº›å­—å…ƒå¿…é ˆä½¿ç”¨é›™å¼•è™Ÿæ‹¬èµ·ä¾†ã€‚ æœ‰ä¸‹åˆ—å­—ä¸²å¸¸å€¼é¡å‹ï¼š  
  
### åŠå½¢å­—ä¸²å¸¸å€¼  
 åŠå½¢å­—ä¸²å¸¸å€¼æ˜¯éå‰ç½®è©ã€é›™å¼•è™Ÿåˆ†éš”çš„ã€ä»¥ null çµæŸé™£åˆ—é¡å‹çš„ `const` `char`\[`n`\]ï¼Œé€™è£¡çš„ n æ˜¯ä»¥ä½å…ƒçµ„ç‚ºå–®ä½çš„é™£åˆ—é•·åº¦ã€‚ åŠå½¢å­—ä¸²å¸¸å€¼å¯èƒ½åŒ…å«ä»»ä½•åœ–å½¢å­—å…ƒï¼Œä½†é›™å¼•è™Ÿ \(`"`\)ã€åæ–œç·š \(`\`\) æˆ–æ–°è¡Œå­—å…ƒé™¤å¤–ã€‚ åŠå½¢å­—ä¸²å¸¸å€¼ä¹Ÿå¯èƒ½åŒ…å«ä¸Šæ–‡åˆ—å‡ºçš„é€¸å‡ºåºåˆ—ï¼Œä»¥åŠç¬¦åˆä¸€å€‹ä½å…ƒçµ„å¤§å°çš„é€šç”¨å­—å…ƒåç¨±ã€‚  
  
```cpp  
const char *narrow = "abcd"; // represents the string: yes\no const char *escaped = "yes\\no";  
```  
  
 **UTF\-8 ç·¨ç¢¼çš„å­—ä¸²**  
  
 UTF\-8 ç·¨ç¢¼çš„å­—ä¸²æ˜¯ u8 å‰ç½®è©ã€é›™å¼•è™Ÿåˆ†éš”ã€null çµæŸé™£åˆ—é¡å‹çš„ `const` `char`\[`n`\]ï¼Œé€™è£¡çš„ n æ˜¯ä»¥ä½å…ƒçµ„ç‚ºå–®ä½çš„ç·¨ç¢¼é™£åˆ—é•·åº¦ã€‚ u8 å‰ç½®å­—ä¸²å¸¸å€¼å¯ä»¥åŒ…å«ä»»ä½•åœ–å½¢å­—å…ƒï¼Œä½†é›™å¼•è™Ÿ \(`"`\)ã€åæ–œç·š \(`\`\) æˆ–æ–°è¡Œå­—å…ƒé™¤å¤–ã€‚ u8 å‰ç½®å­—ä¸²å¸¸å€¼ä¹Ÿå¯ä»¥åŒ…å«ä¸Šåˆ—é€¸å‡ºåºåˆ—ï¼Œä»¥åŠä»»ä½•é€šç”¨å­—å…ƒåç¨±ã€‚  
  
```cpp  
const char* str1 = u8"Hello World"; const char* str2 = u8"\U0001F607 is O:-)";  
```  
  
### å…¨å½¢å­—ä¸²å¸¸å€¼  
 å…¨å½¢å­—ä¸²å¸¸å€¼æ˜¯å‰é¢åŠ ä¸Š '`L`' ä¸”åŒ…å«ä»»ä½•åœ–å½¢å­—å…ƒ \(é›™å¼•è™Ÿ \("\)ã€åæ–œç·š \(\\\) æˆ–æ–°è¡Œå­—å…ƒä»¥å¤–\) çš„ null çµæŸ `wchar_t` å¸¸æ•¸é™£åˆ—ã€‚ å…¨å½¢å­—ä¸²å¸¸å€¼å¯ä»¥åŒ…å«ä¸Šåˆ—é€¸å‡ºåºåˆ—ï¼Œä»¥åŠä»»ä½•é€šç”¨å­—å…ƒåç¨±ã€‚  
  
```cpp  
const wchar_t* wide = L"zyxw"; const wchar_t* newline = L"hello\ngoodbye";  
```  
  
 **char16\_t å’Œ char32\_t \(C\+\+11\)**  
  
 C\+\+11 å¼•é€²å¯æ”œå¼ `char16_t` \(16 ä½å…ƒ Unicode\) å’Œ `char32_t` \(32 ä½å…ƒ Unicode\) å­—å…ƒé¡å‹ï¼š  
  
```cpp  
auto s3 = u"hello"; // const char16_t* auto s4 = U"hello"; // const char32_t*  
```  
  
### åŸå§‹å­—ä¸²å¸¸å€¼ \(C\+\+11\)  
 åŸå§‹å­—ä¸²å¸¸å€¼æ˜¯ null çµæŸé™£åˆ— \(ç‚ºä»»æ„å­—å…ƒé¡å‹\)ï¼Œå…¶ä¸­åŒ…å«ä»»ä½•åœ–å½¢å­—å…ƒ \(åŒ…æ‹¬é›™å¼•è™Ÿ \("\)ã€åæ–œç·š \(\\\) æˆ–æ–°è¡Œå­—å…ƒ\)ã€‚ åŸå§‹å­—ä¸²å¸¸å€¼é€šå¸¸ç”¨æ–¼ä½¿ç”¨å­—å…ƒé¡åˆ¥çš„è¦å‰‡é‹ç®—å¼ï¼Œä»¥åŠ HTML å­—ä¸²å’Œ XML å­—ä¸²ã€‚ å¦‚éœ€ç¯„ä¾‹ï¼Œè«‹åƒé–±ä¸‹åˆ—æ–‡ç« ï¼š[Bjarne Stroustrup çš„ C\+\+11 å¸¸è¦‹å•é¡Œé›†](http://go.microsoft.com/fwlink/?LinkId=401172)ã€‚  
  
```cpp  
// represents the string: An unescaped \ character const char* raw_narrow = R"(An unescaped \ character)"; const wchar_t* raw_wide = LR"(An unescaped \ character)"; const char* Â Â Â Â Â Â raw_utf8 Â = u8R"(An unescaped \ character)"; const char16_t* raw_utf16 = uR"(An unescaped \ character)"; const char32_t* raw_utf32 = UR"(An unescaped \ character)";  
```  
  
 åˆ†éš”ç¬¦è™Ÿæ˜¯ä½¿ç”¨è€…å®šç¾©çš„é †åºï¼Œæœ€å¤šåŒ…å« 16 å€‹å­—å…ƒï¼Œåœ¨åŸå§‹å­—ä¸²å¸¸å€¼çš„å·¦æ‹¬è™Ÿå‰é¢ã€å³æ‹¬è™Ÿå¾Œé¢ã€‚  ä¾‹å¦‚ï¼Œ`R"abc(Hello"\()abc"` ä¸­çš„åˆ†éš”ç¬¦è™Ÿé †åºæ˜¯ `abc`ï¼Œå­—ä¸²å…§å®¹æ˜¯ `Hello"\(`ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨åˆ†éš”ç¬¦è™Ÿï¼Œé‡æ¸…åŒ…å«é›™å¼•è™Ÿå’Œæ‹¬è™Ÿçš„åŸå§‹å­—ä¸²ã€‚ é€™æœƒé€ æˆç·¨è­¯å™¨éŒ¯èª¤ï¼š  
  
```cpp  
// meant to represent the string: )â€ const char* bad_parens = R"()")";  // error C2059  
```  
  
 ä½†æ˜¯åˆ†éš”ç¬¦è™Ÿè§£æ±ºé€™å€‹éŒ¯èª¤ï¼š  
  
```cpp  
const char* good_parens = R"xyz()")xyz";  
```  
  
 æ‚¨å¯ä»¥åœ¨ä¾†æºä¸­å»ºæ§‹æœ‰æ–°è¡Œå­—å…ƒ \(ä¸æ˜¯é€¸å‡ºå­—å…ƒ\) çš„åŸå§‹å­—ä¸²å¸¸å€¼ï¼š  
  
```cpp  
// represents the string: hello //goodbye const wchar_t* newline = LR"(hello goodbye)";  
```  
  
### std::string å¸¸å€¼ \(C\+\+14\)  
 std::string å¸¸å€¼æ˜¯å‘ˆç¾ç‚º "xyx"s \(å¾Œç½®è©ç‚º `s`\) ä¹‹ä½¿ç”¨è€…å®šç¾©å¸¸å€¼çš„æ¨™æº–ç¨‹å¼åº«å¯¦ä½œ \(è«‹åƒé–±ä¸‹æ–‡\)ã€‚ é€™ç¨®é¡å‹çš„å­—ä¸²å¸¸å€¼æœƒæ ¹æ“šæŒ‡å®šçš„å‰ç½®è©ä¾†ç”¢ç”Ÿé¡å‹ std::stringã€std::wstringã€std::u32string æˆ– std::u16string çš„æš«å­˜ç‰©ä»¶ã€‚ æœªä½¿ç”¨å‰ç½®è©æ™‚ \(å¦‚ä¸Šæ‰€è¿°\)ï¼Œæœƒç”¢ç”Ÿ std::stringã€‚ L"xyz"s æœƒç”¢ç”Ÿ std::wstringã€‚ u"xyz"s æœƒç”¢ç”Ÿ [std::u16string](../Topic/u16string.md)ï¼ŒU"xyz"s å‰‡æœƒç”¢ç”Ÿ [std::u32string](../Topic/u32string.md)ã€‚  
  
```cpp  
//#include <string> //using namespace std::string_literals; string str{ "hello"s }; string str2{ u8"Hello World" }; wstring str3{ L"hello"s }; u16string str4{ u"hello"s }; u32string str5{ U"hello"s };  
```  
  
 s å¾Œç½®è©ä¹Ÿå¯ä»¥ç”¨æ–¼åŸå§‹å­—ä¸²å¸¸å€¼ï¼š  
  
```cpp  
u32string str6{ UR"(She said "hello.")"s };  
```  
  
 std::string å¸¸å€¼å®šç¾©æ–¼ \<string\> æ¨™é ­æª”çš„å‘½åç©ºé–“ `std::literals::string_literals` ä¸­ã€‚ å› ç‚º `std::literals::string_literals`ï¼Œè€Œä¸” `std::literals` éƒ½å®£å‘Šç‚º[å…§åµŒå‘½åç©ºé–“](../cpp/namespaces-cpp.md)ï¼Œæ‰€ä»¥æœƒè‡ªå‹•å°‡ `std::literals::string_literals` è¦–ç‚ºç›´æ¥å±¬æ–¼å‘½åç©ºé–“ `std`ã€‚  
  
### å­—ä¸²å¸¸å€¼çš„å¤§å°  
 å°æ–¼ ANSI char\* å­—ä¸²å’Œå…¶ä»–å–®ä¸€ä½å…ƒçµ„çš„ç·¨ç¢¼ \(é UTF\-8\)ï¼Œå­—ä¸²å¸¸å€¼çš„å¤§å° \(ä½å…ƒçµ„\) æ˜¯å­—å…ƒæ•¸åŠ  1 \(è¡¨ç¤ºçµæŸ null å­—å…ƒ\)ã€‚ å°æ–¼æ‰€æœ‰å…¶ä»–å­—ä¸²é¡å‹ï¼Œåš´æ ¼ä¸Šï¼Œå¤§å°æœªèˆ‡å­—å…ƒæ•¸ç›¸é—œã€‚ UTF\-8 ä½¿ç”¨æœ€å¤šå››å€‹å­—å…ƒé …ç›®ä¾†ç·¨ç¢¼éƒ¨åˆ†*ã€Œç¨‹å¼ç¢¼å–®ä½ã€*\(Code Unit\)ï¼Œè€Œç·¨ç¢¼ç‚º UTF\-16 çš„ char16\_t æˆ– wchar\_t å¯èƒ½æœƒä½¿ç”¨å…©å€‹é …ç›® \(å…±æœ‰å››å€‹ä½å…ƒçµ„\) ä¾†ç·¨ç¢¼å–®ä¸€*ã€Œç¨‹å¼ç¢¼å–®ä½ã€*\(Code Unit\)ã€‚   æœ¬ä¾‹é¡¯ç¤ºå…¨å½¢å­—ä¸²å¸¸å€¼ä»¥ä½å…ƒçµ„ç‚ºå–®ä½çš„å¤§å°ï¼š  
  
```cpp  
const wchar_t* str = L"Hello!"; const size_t byteSize = (wcslen(str) + 1) * sizeof(wchar_t);  
```  
  
 è«‹æ³¨æ„ï¼Œ`strlen()` å’Œ `wcslen()` ä¸åŒ…æ‹¬çµæŸ null å­—å…ƒçš„å¤§å°ï¼Œå…¶å¤§å°ç­‰æ–¼å­—ä¸²é¡å‹çš„é …ç›®å¤§å°ï¼šchar\* å­—ä¸²ä¸Šçš„ä¸€å€‹ä½å…ƒçµ„ã€wchar\_t\* æˆ– char16\_t\* å­—ä¸²ä¸Šçš„å…©å€‹ä½å…ƒçµ„ï¼Œä»¥åŠ char32\_t\* å­—ä¸²ä¸Šçš„å››å€‹ä½å…ƒçµ„ã€‚  
  
 å­—ä¸²å¸¸å€¼çš„é•·åº¦ä¸Šé™ç‚º 65535 å€‹ä½å…ƒçµ„ã€‚ é€™å€‹é™åˆ¶é©ç”¨æ–¼åŠå½¢å­—ä¸²å¸¸å€¼å’Œå…¨å½¢å­—ä¸²å¸¸å€¼ã€‚  
  
### ä¿®æ”¹å­—ä¸²å¸¸å€¼  
 ç”±æ–¼å­—ä¸²å¸¸å€¼ \(ä¸åŒ…æ‹¬ std:string å¸¸å€¼\) æ˜¯å¸¸æ•¸ï¼Œå› æ­¤å˜—è©¦åŠ ä»¥ä¿®æ”¹ \(ä¾‹å¦‚ str\[2\] \= 'A'\) æœƒé€ æˆç·¨è­¯å™¨éŒ¯èª¤ã€‚  
  
 **Microsoft ç‰¹å®šçš„**  
  
 åœ¨ Visual C\+\+ ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å­—ä¸²å¸¸å€¼ï¼Œåˆå§‹åŒ–éå¸¸æ•¸ `char` æˆ– `wchar_t` çš„æŒ‡æ¨™ã€‚ C99 ç¨‹å¼ç¢¼å…è¨±é€™é …åŠŸèƒ½ï¼Œä¸éåœ¨ C\+\+98 ä¸­å·²è¢«å–ä»£ï¼Œåœ¨ C\+\+11 ä¸­å·²ç§»é™¤ã€‚ å˜—è©¦ä¿®æ”¹å­—ä¸²é€ æˆå­˜å–é•è¦ï¼Œå¦‚æ­¤ç¯„ä¾‹æ‰€ç¤ºï¼š  
  
```cpp  
wchar_t* str = L"hello"; str[2] = L'a'; // run-time error: access violation  
```  
  
 ç•¶æ‚¨è¨­å®š [\/Zc:strictStrings \(åœç”¨å­—ä¸²å¸¸å€¼å‹åˆ¥è½‰æ›\)](../build/reference/zc-strictstrings-disable-string-literal-type-conversion.md) ç·¨è­¯å™¨é¸é …æ™‚ï¼Œæ‚¨å¯ä»¥è®“ç·¨è­¯å™¨åœ¨å­—ä¸²å¸¸å€¼è½‰æ›ç‚º non\_const å­—å…ƒæŒ‡æ¨™æ™‚ç™¼å‡ºéŒ¯èª¤ã€‚ æˆ‘å€‘å»ºè­°ä½¿ç”¨æ¨™æº–ç›¸å®¹çš„å¯æ”œå¼ç¨‹å¼ç¢¼ã€‚ ä½¿ç”¨ `auto` é—œéµå­—ï¼Œå®£å‘Šå­—ä¸²å¸¸å€¼åˆå§‹åŒ–çš„æŒ‡æ¨™ï¼Œä¹Ÿæ˜¯ä¸éŒ¯çš„åšæ³•ï¼Œå› ç‚ºé€™æœƒè§£ææˆæ­£ç¢º \(å¸¸æ•¸\) é¡å‹ã€‚ ä¾‹å¦‚ï¼Œé€™å€‹ç¨‹å¼ç¢¼ç¯„ä¾‹æœƒæ””æˆªåœ¨ç·¨è­¯æ™‚æœŸå˜—è©¦å¯«å…¥å­—ä¸²å¸¸å€¼çš„å‹•ä½œï¼š  
  
```cpp  
auto str = L"hello"; str[2] = L'a'; // C3892: you cannot assign to a variable that is const.  
```  
  
 åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œå¯ä»¥çµåˆç›¸åŒå­—ä¸²å¸¸å€¼ä¾†ç¯€çœå¯åŸ·è¡Œæª”ä¸­çš„ç©ºé–“ã€‚ åœ¨å­—ä¸²å¸¸å€¼å…±ç”¨ä¸­ï¼Œç·¨è­¯å™¨æœƒè®“ç‰¹å®šå­—ä¸²å¸¸å€¼çš„æ‰€æœ‰åƒè€ƒæŒ‡å‘è¨˜æ†¶é«”å…§éƒ¨ç›¸åŒä½ç½®ï¼Œè€Œä¸æ˜¯è®“æ¯å€‹åƒè€ƒéƒ½æŒ‡å‘å­—ä¸²å¸¸å€¼çš„å€‹åˆ¥åŸ·è¡Œå€‹é«”ã€‚ è‹¥è¦å•Ÿç”¨å­—ä¸²å…±ç”¨ï¼Œè«‹ä½¿ç”¨ [\/GF](../build/reference/gf-eliminate-duplicate-strings.md) ç·¨è­¯å™¨é¸é …ã€‚  
  
 **çµæŸ Microsoft å°ˆæœ‰**  
  
### ä¸²é€£ç›¸é„°çš„å­—ä¸²å¸¸å€¼  
 æœƒä¸²é€£ç›¸é„°çš„å…¨å½¢æˆ–åŠå½¢å­—ä¸²å¸¸å€¼ã€‚ é€™å€‹å®£å‘Šï¼š  
  
```cpp  
char str[] = "12" "34";  
```  
  
 ç­‰åŒæ–¼æ­¤å®£å‘Šï¼š  
  
```cpp  
char atr[] = "1234";  
```  
  
 ä»¥åŠé€™å€‹å®£å‘Šï¼š  
  
```cpp  
char atr[] =  "12\ 34";  
```  
  
 ä½¿ç”¨å…§åµŒåå…­é€²ä½é€¸å‡ºç¨‹å¼ç¢¼æŒ‡å®šå­—ä¸²å¸¸å€¼å¯èƒ½é€ æˆæœªé æœŸçš„çµæœã€‚ ä¸‹åˆ—ç¯„ä¾‹æ˜¯è¦å»ºç«‹åŒ…å« ASCII 5 å­—å…ƒçš„å­—ä¸²å¸¸å€¼ï¼Œå¾Œé¢æ¥è‘—å­—å…ƒ fã€iã€v å’Œ eï¼š  
  
```cpp  
"\x05five"  
```  
  
 å¯¦éš›çµæœæ˜¯åå…­é€²ä½ 5F \(å³åº•ç·šå­—å…ƒçš„ ASCII ç¢¼\)ï¼Œå¾Œé¢æ¥ iã€vã€e å­—å…ƒã€‚ è‹¥è¦ å–å¾—æ­£ç¢ºçµæœï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å…¶ä¸­ä¸€å€‹ï¼š  
  
```cpp  
"\005five"     // Use octal literal. "\x05" "five"  // Use string splicing.  
```  
  
 std::string å¸¸å€¼ \(å› ç‚ºå®ƒå€‘æ˜¯ std::string é¡å‹\) å¯ä»¥ä½¿ç”¨é‡å° [basic\_string](../standard-library/basic-string-class.md) é¡å‹æ‰€å®šç¾©çš„ \+ é‹ç®—å­é€²è¡Œä¸²é€£ã€‚ å®ƒå€‘çš„ä¸²é€£æ–¹å¼ä¹Ÿèˆ‡ç›¸é„°å­—ä¸²å¸¸å€¼ç›¸åŒã€‚ åœ¨é€™å…©ç¨®æƒ…æ³ä¸‹ï¼Œå­—ä¸²ç·¨ç¢¼å’Œå¾Œç½®è©å¿…é ˆç›¸ç¬¦ï¼š  
  
```cpp  
auto x1 = "hello" " " " world"; // OK auto x2 = U"hello" " " L"world"; // C2308: disagree on prefix auto x3 = u8"hello" " "s u8"world"s; // OK, agree on prefixes and suffixes auto x4 = u8"hello" " "s u8"world"z; // C3688, disagree on suffixes  
```  
  
### å«é€šç”¨å­—å…ƒåç¨±çš„å­—ä¸²å¸¸å€¼  
 åŸç”Ÿ \(éåŸå§‹\) çš„å­—ä¸²å¸¸å€¼å¯ä»¥ä½¿ç”¨é€šç”¨å­—å…ƒåç¨±ä¾†ä»£è¡¨ä»»ä½•å­—å…ƒï¼Œåªè¦é€šç”¨å­—å…ƒåç¨±å¯ä»¥ç·¨ç¢¼ç‚ºå­—ä¸²é¡å‹ä¸­çš„ä¸€æˆ–å¤šå€‹å­—å…ƒã€‚  ä¾‹å¦‚ï¼Œé€šç”¨å­—å…ƒåç¨±è¡¨ç¤ºçš„æ“´å……å­—å…ƒç„¡æ³•ç·¨ç¢¼åœ¨ä½¿ç”¨ ANSI å­—ç¢¼é çš„åŠå½¢å­—ä¸²ä¸­ï¼Œä½†å¯ä»¥ç·¨ç¢¼åœ¨æŸäº›å¤šä½å…ƒçµ„å­—ç¢¼é çš„åŠå½¢å­—ä¸²ä¸­ï¼Œæˆ–ç·¨ç¢¼åœ¨ UTF\-8 å­—ä¸²æˆ–å…¨å½¢å­—ä¸²ä¸­ã€‚ åœ¨ C\+\+11 ä¸­ï¼ŒUnicode æ”¯æ´å·²ç‚º char16\_t\* å’Œ char32\_t\* å­—ä¸²é¡å‹æ‰€æ“´å……ï¼š  
  
```cpp  
// ASCII smiling face const char*     s1 = ":-)"; // UTF-16 (on Windows) encoded WINKING FACE (U+1F609) const wchar_t*  s2 = L"ğŸ˜‰ = \U0001F609 is ;-)"; // UTF-8  encoded SMILING FACE WITH HALO (U+1F607) const char*     s3 = u8"ğŸ˜‡ = \U0001F607 is O:-)"; // UTF-16 encoded SMILING FACE WITH OPEN MOUTH (U+1F603) const char16_t* s4 = u"ğŸ˜ƒ = \U0001F603 is :-D"; // UTF-32 encoded SMILING FACE WITH SUNGLASSES (U+1F60E) const char32_t* s5 = U"ğŸ˜ = \U0001F60E is B-)";  
```  
  
## è«‹åƒé–±  
 [å­—å…ƒé›†](../cpp/character-sets2.md)   
 [æ•¸å€¼ã€å¸ƒæ—å€¼å’ŒæŒ‡æ¨™å¸¸å€¼](../cpp/numeric-boolean-and-pointer-literals-cpp.md)   
 [ä½¿ç”¨è€…å®šç¾©å¸¸å€¼](../cpp/user-defined-literals-cpp.md)