---
title: 範圍規則摘要
ms.date: 11/04/2016
helpviewer_keywords:
- class scope [C++], rules
- classes [C++], scope
- class names [C++], scope rules
- names [C++], class
- scope [C++], class names
ms.assetid: 47e26482-0111-466f-b857-598c15d05105
ms.openlocfilehash: 024a61419129f669485944a427379dd41c385404
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/27/2020
ms.locfileid: "87231061"
---
# <a name="summary-of-scope-rules"></a>範圍規則摘要

使用的名稱在其範圍內不可以模稜兩可 (其位置由多載決定)。 如果名稱表示一個函式，該函式必須明確指定參數的數目和類型。 如果名稱保持不明確，則會套用[成員存取](../cpp/member-access-control-cpp.md)規則。

## <a name="constructor-initializers"></a>建構函式初始設定式

函式[初始化運算式](constructors-cpp.md#member_init_list)會在所指定之函式的最外層區塊範圍中進行評估。 因此，它們可以使用建構函式的參數名稱。

## <a name="global-names"></a>全域名稱

物件、函式或列舉程式若是在任何函式或類別之外引入，或是加上全域一元範圍運算子 (`::`) 前置詞，且未與下列任何二元運算子搭配使用，其名稱即為全域名稱：

- 範圍解析 (`::`)

- 物件和參考的成員選取（**.**）

- 指標的成員選取（ **->** ）

## <a name="qualified-names"></a>限定名稱

搭配二進位範圍解析運算子 (`::`) 使用的名稱亦稱為「限定名稱」(Qualified Name)。 在二進位範圍解析運算子後面指定的名稱，必須是運算子左方所指定類別的成員，或是其基底類別的成員。

成員選取運算子（.）之後指定的名稱 **。** 或 **->** ）必須是運算子左邊所指定物件之類別類型的成員，或是其基類的成員。 在成員選取運算子（）的右邊指定的名稱 **->** 也可以是另一個類別類型的物件，前提是的左邊 **->** 是類別物件，且該類別定義的多載成員選取運算子（ **->** ）會評估為其他類別類型的指標。 （在[類別成員存取](../cpp/member-access.md)中，將會更詳細地討論此布建）。

編譯器會依照下列順序搜尋名稱，並且在找到名稱時停止：

1. 如果名稱是在函式內使用，則為目前區塊範圍，否則為全域範圍。

1. 向外至每個封閉區塊範圍，包括最外層的函式範圍 (包括函式參數)。

1. 如果名稱是在成員函式內使用，則會在類別的範圍內搜尋名稱。

1. 在類別的基底類別內搜尋名稱。

1. 在封閉巢狀類別範圍 (如果有的話) 及其基底內搜尋。 搜尋會繼續，直到搜尋至最外層封閉類別範圍為止。

1. 在全域範圍內搜尋。

不過，您可以依照下述方式修改這個搜尋順序：

1. 前面加上 `::` 的名稱會強制從全域範圍開始搜尋。

1. 前面加 **`class`** 上、和關鍵字的名稱，會 **`struct`** **`union`** 強制編譯器只搜尋 **`class`** 、 **`struct`** 或 **`union`** 名稱。

1. 範圍解析運算子（）左邊的名稱只能 `::` 是 **`class`** 、 **`struct`** 、 **`namespace`** 或 **`union`** 名稱。

如果名稱參考非靜態成員，但是在靜態成員函式中使用，則會產生錯誤訊息。 同樣地，如果名稱參考封入類別中的任何非靜態成員，就會產生錯誤訊息，因為括住的類別沒有封閉式類別 **`this`** 指標。

## <a name="function-parameter-names"></a>函式參數名稱

函式定義中的函式參數名稱會視為在函式最外層區塊的範圍內。 因此，它們會是區域名稱且當函式結束時會超出範圍。

函式宣告 (原型) 中的函式參數名稱會位於宣告的區域範圍，而在宣告的結尾會超出範圍。

預設參數會位於其所預設的參數範圍內，如上兩個段落中所述。 但是，它們無法存取區域變數或非靜態類別成員。 預設參數是在函式呼叫時進行評估，但是它們是在函式宣告的原始範圍中進行評估。 因此，成員函式的預設參數一定是在類別範圍中進行評估。

## <a name="see-also"></a>另請參閱

[繼承](../cpp/inheritance-cpp.md)
